<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Language reference &mdash; Amaranth language &amp; toolchain 0.6.0.dev9 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/platformpicker.css" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=d131d90a" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=29ca16a1"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=4825356b"></script>
        <script src="_static/platformpicker.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Standard library" href="stdlib.html" />
    <link rel="prev" title="Language guide" href="guide.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="cover.html" class="icon icon-home">
            Amaranth language & toolchain
              <img src="_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.6.0.dev9
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Language &amp; toolchain</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="start.html">Getting started</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide.html">Language guide</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Language reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#backwards-compatibility">Backwards compatibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="#importing-syntax">Importing syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="#source-locations">Source locations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#shapes">Shapes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#amaranth.hdl.Shape"><code class="docutils literal notranslate"><span class="pre">Shape</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#amaranth.hdl.unsigned"><code class="docutils literal notranslate"><span class="pre">unsigned()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#amaranth.hdl.signed"><code class="docutils literal notranslate"><span class="pre">signed()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#amaranth.hdl.ShapeCastable"><code class="docutils literal notranslate"><span class="pre">ShapeCastable</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#amaranth.hdl.ShapeLike"><code class="docutils literal notranslate"><span class="pre">ShapeLike</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#values">Values</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#amaranth.hdl.Value"><code class="docutils literal notranslate"><span class="pre">Value</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#amaranth.hdl.ValueCastable"><code class="docutils literal notranslate"><span class="pre">ValueCastable</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#amaranth.hdl.ValueLike"><code class="docutils literal notranslate"><span class="pre">ValueLike</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="stdlib.html">Standard library</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulator.html">Simulator</a></li>
<li class="toctree-l2"><a class="reference internal" href="platform.html">Platform integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="changes.html">Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="contrib.html">Contributing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://amaranth-lang.org/docs/amaranth-stdio/latest/">Standard I/O components</a></li>
<li class="toctree-l1"><a class="reference external" href="https://amaranth-lang.org/docs/amaranth-soc/latest/">System on Chip toolkit</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="cover.html">Amaranth language & toolchain</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="cover.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Language &amp; toolchain</a></li>
      <li class="breadcrumb-item active">Language reference</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/reference.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-amaranth.hdl">
<span id="language-reference"></span><h1>Language reference<a class="headerlink" href="#module-amaranth.hdl" title="Permalink to this heading"></a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This reference is a work in progress and is seriously incomplete!</p>
<p>While the wording below states that anything not described in this document isn’t covered by the backwards compatibility guarantee, this should be ignored until the document is complete and this warning is removed.</p>
</div>
<p>This reference describes the Python classes that underlie the Amaranth language’s syntax. It assumes familiarity with the <a class="reference internal" href="guide.html"><span class="doc">language guide</span></a>.</p>
<section id="backwards-compatibility">
<span id="lang-stability"></span><h2>Backwards compatibility<a class="headerlink" href="#backwards-compatibility" title="Permalink to this heading"></a></h2>
<p>As part of the Amaranth backwards compatibility guarantee, any behaviors described in this document will not change from a version to another without at least one version including a warning about the impending change. Any nontrivial change to these behaviors must also go through the public review as a part of the <a class="reference external" href="https://amaranth-lang.org/rfcs/">Amaranth Request for Comments process</a>.</p>
<p>Conversely, any behavior not documented here is subject to change at any time with or without notice, and any names under the <a class="reference internal" href="#module-amaranth.hdl" title="amaranth.hdl"><code class="xref py py-mod docutils literal notranslate"><span class="pre">amaranth.hdl</span></code></a> module that are not explicitly included in this document, even if they do not begin with an underscore, are internal to the implementation of the language.</p>
</section>
<section id="importing-syntax">
<span id="lang-importing"></span><h2>Importing syntax<a class="headerlink" href="#importing-syntax" title="Permalink to this heading"></a></h2>
<p>There are two ways to import the Amaranth syntax into a Python file: by importing the <a class="reference internal" href="guide.html#lang-prelude"><span class="std std-ref">prelude</span></a> or by importing individual names from the <a class="reference internal" href="#module-amaranth.hdl" title="amaranth.hdl"><code class="xref py py-mod docutils literal notranslate"><span class="pre">amaranth.hdl</span></code></a> module. Since the prelude is kept small and rarely extended to avoid breaking downstream code that uses a glob import, there are some names that are only exported from the <a class="reference internal" href="#module-amaranth.hdl" title="amaranth.hdl"><code class="xref py py-mod docutils literal notranslate"><span class="pre">amaranth.hdl</span></code></a> module. The following three snippets are equivalent:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">amaranth</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">Module</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">amaranth</span> <span class="k">as</span> <span class="nn">am</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">Module</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">amaranth.hdl</span> <span class="kn">import</span> <span class="n">Module</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">Module</span><span class="p">()</span>
</pre></div>
</div>
<p>The prelude exports exactly the following names:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#amaranth.hdl.Shape" title="amaranth.hdl.Shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></a></p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.unsigned" title="amaranth.hdl.unsigned"><code class="xref py py-func docutils literal notranslate"><span class="pre">unsigned()</span></code></a></p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.signed" title="amaranth.hdl.signed"><code class="xref py py-func docutils literal notranslate"><span class="pre">signed()</span></code></a></p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Const</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">C()</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">Mux()</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">Cat()</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Array</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Signal</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ClockSignal</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ResetSignal</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Format</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Print</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">Assert()</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Module</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ClockDomain</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Elaboratable</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Fragment</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Instance</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Memory</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DomainRenamer</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ResetInserter</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">EnableInserter</span></code></p></li>
</ul>
</section>
<section id="source-locations">
<span id="lang-srcloc"></span><h2>Source locations<a class="headerlink" href="#source-locations" title="Permalink to this heading"></a></h2>
<p>Many functions and methods in Amaranth take the <code class="code highlight py python docutils literal highlight-python"><span class="n">src_loc_at</span><span class="o">=</span><span class="mi">0</span></code> keyword argument. These language constructs may inspect the call stack to determine the file and line of its call site, which will be used to annotate generated code when a netlist is generated or to improve diagnostic messages.</p>
<p>Some call sites are not relevant for an Amaranth designer; e.g. when an Amaranth language construct is called from a user-defined utility function, the source location of the call site within this utility function is usually not interesting to the designer. In these cases, one or more levels of function calls can be removed from consideration using the <code class="code highlight py python docutils literal highlight-python"><span class="n">src_loc_at</span></code> argument as follows (using <a class="reference internal" href="#amaranth.hdl.Shape.cast" title="amaranth.hdl.Shape.cast"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Shape.cast()</span></code></a> to demonstrate the concept):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_shape_cast</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">src_loc_at</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="o">...</span> <span class="c1"># additionally process `obj`...</span>
    <span class="k">return</span> <span class="n">Shape</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">src_loc_at</span><span class="o">=</span><span class="mi">1</span> <span class="o">+</span> <span class="n">src_loc_at</span><span class="p">)</span>
</pre></div>
</div>
<p>The number <code class="code highlight py python docutils literal highlight-python"><span class="mi">1</span></code> corresponds to the number of call stack frames that should be skipped.</p>
</section>
<section id="shapes">
<h2>Shapes<a class="headerlink" href="#shapes" title="Permalink to this heading"></a></h2>
<p>See also the introduction to <a class="reference internal" href="guide.html#lang-shapes"><span class="std std-ref">shapes</span></a> and <a class="reference internal" href="guide.html#lang-shapelike"><span class="std std-ref">casting from shape-like objects</span></a> in the language guide.</p>
<dl class="py class">
<dt class="sig sig-object py" id="amaranth.hdl.Shape">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">amaranth.hdl.</span></span><span class="sig-name descname"><span class="pre">Shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Shape" title="Permalink to this definition"></a></dt>
<dd><p>Bit width and signedness of a <a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>.</p>
<p>A <a class="reference internal" href="#amaranth.hdl.Shape" title="amaranth.hdl.Shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></a> can be obtained by:</p>
<ul class="simple">
<li><p>constructing with explicit bit width and signedness;</p></li>
<li><p>using the <a class="reference internal" href="#amaranth.hdl.signed" title="amaranth.hdl.signed"><code class="xref py py-func docutils literal notranslate"><span class="pre">signed()</span></code></a> and <a class="reference internal" href="#amaranth.hdl.unsigned" title="amaranth.hdl.unsigned"><code class="xref py py-func docutils literal notranslate"><span class="pre">unsigned()</span></code></a> aliases if the signedness is known upfront;</p></li>
<li><p>casting from a variety of objects using the <a class="reference internal" href="#amaranth.hdl.Shape.cast" title="amaranth.hdl.Shape.cast"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cast()</span></code></a> method.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The number of bits in the representation of a value. This includes the sign bit for signed
values. Cannot be zero if the value is signed.</p></li>
<li><p><strong>signed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a>) – Whether the value is signed. Signed values use the
<a class="reference external" href="https://en.wikipedia.org/wiki/Two's_complement">two’s complement</a> representation.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Shape.cast">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Shape.cast" title="Permalink to this definition"></a></dt>
<dd><p>Cast <code class="code highlight py python docutils literal highlight-python"><span class="n">obj</span></code> to a shape.</p>
<p>Many <a class="reference internal" href="guide.html#lang-shapelike"><span class="std std-ref">shape-like</span></a> objects can be cast to a shape:</p>
<ul class="simple">
<li><p>a <a class="reference internal" href="#amaranth.hdl.Shape" title="amaranth.hdl.Shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></a>, where the result is itself;</p></li>
<li><p>an <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, where the result is <a class="reference internal" href="#amaranth.hdl.unsigned" title="amaranth.hdl.unsigned"><code class="xref py py-func docutils literal notranslate"><span class="pre">unsigned(obj)</span></code></a>;</p></li>
<li><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">range</span></code></a>, where the result has minimal width required to represent all elements
of the range, and is signed if any element of the range is signed;</p></li>
<li><p>an <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.Enum" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></a> whose members are all <a class="reference internal" href="guide.html#lang-constcasting"><span class="std std-ref">constant-castable</span></a>
or <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.IntEnum" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">enum.IntEnum</span></code></a>, where the result is wide enough to represent any member of
the enumeration, and is signed if any member of the enumeration is signed;</p></li>
<li><p>a <a class="reference internal" href="#amaranth.hdl.ShapeCastable" title="amaranth.hdl.ShapeCastable"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShapeCastable</span></code></a> object, where the result is obtained by repeatedly calling
<a class="reference internal" href="#amaranth.hdl.ShapeCastable.as_shape" title="amaranth.hdl.ShapeCastable.as_shape"><code class="xref py py-meth docutils literal notranslate"><span class="pre">obj.as_shape()</span></code></a>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.12)"><strong>TypeError</strong></a> – If <code class="code highlight py python docutils literal highlight-python"><span class="n">obj</span></code> cannot be converted to a <a class="reference internal" href="#amaranth.hdl.Shape" title="amaranth.hdl.Shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></a>.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RecursionError" title="(in Python v3.12)"><strong>RecursionError</strong></a> – If <code class="code highlight py python docutils literal highlight-python"><span class="n">obj</span></code> is a <a class="reference internal" href="#amaranth.hdl.ShapeCastable" title="amaranth.hdl.ShapeCastable"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShapeCastable</span></code></a> object that casts to itself.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Shape.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Shape.__repr__" title="Permalink to this definition"></a></dt>
<dd><p>Python code that creates this shape.</p>
<p>Returns <code class="code highlight py python docutils literal highlight-python"><span class="sa">f</span><span class="s2">&quot;signed(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="si">}</span><span class="s2">)&quot;</span></code> or <code class="code highlight py python docutils literal highlight-python"><span class="sa">f</span><span class="s2">&quot;unsigned(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="si">}</span><span class="s2">)&quot;</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="amaranth.hdl.unsigned">
<span class="sig-prename descclassname"><span class="pre">amaranth.hdl.</span></span><span class="sig-name descname"><span class="pre">unsigned</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">width</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.unsigned" title="Permalink to this definition"></a></dt>
<dd><p>Returns <code class="code highlight py python docutils literal highlight-python"><span class="n">Shape</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">signed</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="amaranth.hdl.signed">
<span class="sig-prename descclassname"><span class="pre">amaranth.hdl.</span></span><span class="sig-name descname"><span class="pre">signed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">width</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.signed" title="Permalink to this definition"></a></dt>
<dd><p>Returns <code class="code highlight py python docutils literal highlight-python"><span class="n">Shape</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">signed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="amaranth.hdl.ShapeCastable">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">amaranth.hdl.</span></span><span class="sig-name descname"><span class="pre">ShapeCastable</span></span><a class="headerlink" href="#amaranth.hdl.ShapeCastable" title="Permalink to this definition"></a></dt>
<dd><p>Interface class for objects that can be cast to a <a class="reference internal" href="#amaranth.hdl.Shape" title="amaranth.hdl.Shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></a>.</p>
<p>Shapes of values in the Amaranth language are specified using <a class="reference internal" href="guide.html#lang-shapelike"><span class="std std-ref">shape-like objects</span></a>. Inheriting a class from <a class="reference internal" href="#amaranth.hdl.ShapeCastable" title="amaranth.hdl.ShapeCastable"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShapeCastable</span></code></a> and implementing all of
the methods described below adds instances of that class to the list of shape-like objects
recognized by the <a class="reference internal" href="#amaranth.hdl.Shape.cast" title="amaranth.hdl.Shape.cast"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Shape.cast()</span></code></a> method. This is a part of the mechanism for seamlessly
extending the Amaranth language in third-party code.</p>
<p>To illustrate their purpose, consider constructing a signal from a shape-castable object
<code class="code highlight py python docutils literal highlight-python"><span class="n">shape_castable</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">value_like</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="n">shape_castable</span><span class="p">,</span> <span class="n">init</span><span class="o">=</span><span class="n">initializer</span><span class="p">)</span>
</pre></div>
</div>
<p>The code above is equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">value_like</span> <span class="o">=</span> <span class="n">shape_castable</span><span class="p">(</span><span class="n">Signal</span><span class="p">(</span>
    <span class="n">shape_castable</span><span class="o">.</span><span class="n">as_shape</span><span class="p">(),</span>
    <span class="n">init</span><span class="o">=</span><span class="n">shape_castable</span><span class="o">.</span><span class="n">const</span><span class="p">(</span><span class="n">initializer</span><span class="p">)</span>
<span class="p">))</span>
</pre></div>
</div>
<p>Note that the <code class="code highlight py python docutils literal highlight-python"><span class="n">shape_castable</span><span class="p">(</span><span class="n">x</span><span class="p">)</span></code> syntax performs <code class="code highlight py python docutils literal highlight-python"><span class="n">shape_castable</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="n">x</span><span class="p">)</span></code>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The source code of the <a class="reference internal" href="stdlib/data.html#module-amaranth.lib.data" title="amaranth.lib.data"><code class="xref py py-mod docutils literal notranslate"><span class="pre">amaranth.lib.data</span></code></a> module can be used as a reference for
implementing a fully featured shape-castable object.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.ShapeCastable.as_shape">
<span class="sig-name descname"><span class="pre">as_shape</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.ShapeCastable.as_shape" title="Permalink to this definition"></a></dt>
<dd><p>Convert <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> to a <a class="reference internal" href="guide.html#lang-shapelike"><span class="std std-ref">shape-like object</span></a>.</p>
<p>This method is called by the Amaranth language to convert <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> to a concrete
<a class="reference internal" href="#amaranth.hdl.Shape" title="amaranth.hdl.Shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></a>. It will usually return a <a class="reference internal" href="#amaranth.hdl.Shape" title="amaranth.hdl.Shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></a> object, but it may also return
another shape-like object to delegate its functionality.</p>
<p>This method must be idempotent: when called twice on the same object, the result must be
exactly the same.</p>
<p>This method may also be called by code that is not a part of the Amaranth language.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Any other object recognized by <a class="reference internal" href="#amaranth.hdl.Shape.cast" title="amaranth.hdl.Shape.cast"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Shape.cast()</span></code></a>.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.12)"><strong>Exception</strong></a> – When the conversion cannot be done. This exception must be propagated by callers
    (except when checking whether an object is shape-castable or not), either directly
    or as a cause of another exception.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.ShapeCastable.const">
<span class="sig-name descname"><span class="pre">const</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.ShapeCastable.const" title="Permalink to this definition"></a></dt>
<dd><p>Convert a constant initializer <code class="code highlight py python docutils literal highlight-python"><span class="n">obj</span></code> to its value representation.</p>
<p>This method is called by the Amaranth language to convert <code class="code highlight py python docutils literal highlight-python"><span class="n">obj</span></code>, which may be an
arbitrary Python object, to a concrete <a class="reference internal" href="guide.html#lang-valuelike"><span class="std std-ref">value-like object</span></a>.
The object <code class="code highlight py python docutils literal highlight-python"><span class="n">obj</span></code> will usually be a Python literal that can conveniently represent
a constant value whose shape is described by <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code>. While not constrained here,
the result will usually be an instance of the return type of <a class="reference internal" href="#amaranth.hdl.ShapeCastable.__call__" title="amaranth.hdl.ShapeCastable.__call__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__call__()</span></code></a>.</p>
<p>For any <code class="code highlight py python docutils literal highlight-python"><span class="n">obj</span></code>, the following condition must hold:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Shape</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="n">Const</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">const</span><span class="p">(</span><span class="n">obj</span><span class="p">))</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span>
</pre></div>
</div>
<p>This method may also be called by code that is not a part of the Amaranth language.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <a class="reference internal" href="guide.html#lang-valuelike"><span class="std std-ref">value-like object</span></a> that is <a class="reference internal" href="guide.html#lang-constcasting"><span class="std std-ref">constant-castable</span></a>.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.12)"><strong>Exception</strong></a> – When the conversion cannot be done. This exception must be propagated by callers,
    either directly or as a cause of another exception. While not constrained here,
    usually the exception class will be <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.12)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.12)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.ShapeCastable.from_bits">
<span class="sig-name descname"><span class="pre">from_bits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.ShapeCastable.from_bits" title="Permalink to this definition"></a></dt>
<dd><p>Lift a bit pattern to a higher-level representation.</p>
<p>This method is called by the Amaranth language to lift <code class="code highlight py python docutils literal highlight-python"><span class="n">raw</span></code>, which is an <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>,
to a higher-level representation, which may be any object accepted by <a class="reference internal" href="#amaranth.hdl.ShapeCastable.const" title="amaranth.hdl.ShapeCastable.const"><code class="xref py py-meth docutils literal notranslate"><span class="pre">const()</span></code></a>.
Most importantly, the simulator calls this method when the value of a shape-castable
object is retrieved.</p>
<p>For any valid bit pattern <code class="code highlight py python docutils literal highlight-python"><span class="n">raw</span></code>, the following condition must hold:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Const</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">const</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">from_bits</span><span class="p">(</span><span class="n">raw</span><span class="p">)))</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="n">raw</span>
</pre></div>
</div>
<p>While <a class="reference internal" href="#amaranth.hdl.ShapeCastable.const" title="amaranth.hdl.ShapeCastable.const"><code class="xref py py-meth docutils literal notranslate"><span class="pre">const()</span></code></a> will usually return an Amaranth value or a custom value-castable
object that is convenient to use while constructing the design, this method will usually
return a Python object that is convenient to use while simulating the design. While not
constrained here, these objects should have the same type whenever feasible.</p>
<p>This method may also be called by code that is not a part of the Amaranth language.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>unspecified type</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.12)"><strong>Exception</strong></a> – When the bit pattern isn’t valid. This exception must be propagated by callers,
    either directly or as a cause of another exception. While not constrained here,
    usually the exception class will be <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.12)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.ShapeCastable.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.ShapeCastable.__call__" title="Permalink to this definition"></a></dt>
<dd><p>Lift a <a class="reference internal" href="guide.html#lang-valuelike"><span class="std std-ref">value-like object</span></a> to a higher-level representation.</p>
<p>This method is called by the Amaranth language to lift <code class="code highlight py python docutils literal highlight-python"><span class="n">obj</span></code>, which may be any
<a class="reference internal" href="guide.html#lang-valuelike"><span class="std std-ref">value-like object</span></a> whose shape equals <code class="code highlight py python docutils literal highlight-python"><span class="n">Shape</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>,
to a higher-level representation, which may be any value-like object with the same
shape. While not constrained here, usually a <a class="reference internal" href="#amaranth.hdl.ShapeCastable" title="amaranth.hdl.ShapeCastable"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShapeCastable</span></code></a> implementation will
be paired with a <a class="reference internal" href="#amaranth.hdl.ValueCastable" title="amaranth.hdl.ValueCastable"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueCastable</span></code></a> implementation, and this method will return
an instance of the latter.</p>
<p>If <code class="code highlight py python docutils literal highlight-python"><span class="n">obj</span></code> is not as described above, this interface does not constrain the behavior
of this method. This may be used to implement another call-based protocol at the same
time.</p>
<p>For any compliant <code class="code highlight py python docutils literal highlight-python"><span class="n">obj</span></code>, the following condition must hold:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Value</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="bp">self</span><span class="p">(</span><span class="n">obj</span><span class="p">))</span> <span class="o">==</span> <span class="n">Value</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</pre></div>
</div>
<p>This method may also be called by code that is not a part of the Amaranth language.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <a class="reference internal" href="guide.html#lang-valuelike"><span class="std std-ref">value-like object</span></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.ShapeCastable.format">
<span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.ShapeCastable.format" title="Permalink to this definition"></a></dt>
<dd><p>Format a value.</p>
<p>This method is called by the Amaranth language to implement formatting for custom
shapes. Whenever <code class="code highlight py python docutils literal highlight-python"><span class="s2">&quot;{obj:spec}&quot;</span></code> is encountered by <code class="xref py py-class docutils literal notranslate"><span class="pre">Format</span></code>, and <code class="code highlight py python docutils literal highlight-python"><span class="n">obj</span></code>
has a custom shape that has a <a class="reference internal" href="#amaranth.hdl.ShapeCastable.format" title="amaranth.hdl.ShapeCastable.format"><code class="xref py py-meth docutils literal notranslate"><span class="pre">format()</span></code></a> method, <code class="code highlight py python docutils literal highlight-python"><span class="n">obj</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s2">&quot;spec&quot;</span><span class="p">)</span></code>
is called, and the format specifier is replaced with the result.</p>
<p>The default <a class="reference internal" href="#amaranth.hdl.ShapeCastable.format" title="amaranth.hdl.ShapeCastable.format"><code class="xref py py-meth docutils literal notranslate"><span class="pre">format()</span></code></a> implementation is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">spec</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">Format</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">{{</span><span class="s2">:</span><span class="si">{</span><span class="n">spec</span><span class="si">}</span><span class="se">}}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">Value</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">obj</span><span class="p">))</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Format</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="amaranth.hdl.ShapeLike">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">amaranth.hdl.</span></span><span class="sig-name descname"><span class="pre">ShapeLike</span></span><a class="headerlink" href="#amaranth.hdl.ShapeLike" title="Permalink to this definition"></a></dt>
<dd><p>Abstract class representing all objects that can be cast to a <a class="reference internal" href="#amaranth.hdl.Shape" title="amaranth.hdl.Shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></a>.</p>
<p><code class="code highlight py python docutils literal highlight-python"><span class="nb">issubclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ShapeLike</span><span class="p">)</span></code> returns <code class="code highlight py python docutils literal highlight-python"><span class="kc">True</span></code> for:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#amaranth.hdl.Shape" title="amaranth.hdl.Shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></a>;</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.ShapeCastable" title="amaranth.hdl.ShapeCastable"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShapeCastable</span></code></a> and its subclasses;</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> and its subclasses;</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">range</span></code></a> and its subclasses;</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">enum.EnumMeta</span></code> and its subclasses;</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.ShapeLike" title="amaranth.hdl.ShapeLike"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShapeLike</span></code></a> itself.</p></li>
</ul>
<p><code class="code highlight py python docutils literal highlight-python"><span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">ShapeLike</span><span class="p">)</span></code> returns <code class="code highlight py python docutils literal highlight-python"><span class="kc">True</span></code> for:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#amaranth.hdl.Shape" title="amaranth.hdl.Shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></a> instances;</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.ShapeCastable" title="amaranth.hdl.ShapeCastable"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShapeCastable</span></code></a> instances;</p></li>
<li><p>non-negative <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> values;</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">range</span></code></a> instances;</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.Enum" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></a> subclasses where all values are <a class="reference internal" href="guide.html#lang-valuelike"><span class="std std-ref">value-like objects</span></a>.</p></li>
</ul>
<p>This class cannot be instantiated or subclassed. It can only be used for checking types of
objects.</p>
</dd></dl>

</section>
<section id="values">
<h2>Values<a class="headerlink" href="#values" title="Permalink to this heading"></a></h2>
<p>See also the introduction to <a class="reference internal" href="guide.html#lang-values"><span class="std std-ref">values</span></a> and <a class="reference internal" href="guide.html#lang-valuelike"><span class="std std-ref">casting from value-like objects</span></a> in the language guide.</p>
<dl class="py class">
<dt class="sig sig-object py" id="amaranth.hdl.Value">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">amaranth.hdl.</span></span><span class="sig-name descname"><span class="pre">Value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value" title="Permalink to this definition"></a></dt>
<dd><p>Abstract representation of a bit pattern computed in a circuit.</p>
<p>The Amaranth language gives Python code the ability to create a circuit netlist by manipulating
objects representing the computations within that circuit. The <a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a> class represents
the bit pattern of a constant, or of a circuit input or output, or within a storage element; or
the result of an arithmetic, logical, or bit container operation.</p>
<p>Operations on this class interpret this bit pattern either as an integer, which can be signed
or unsigned depending on the value’s <a class="reference internal" href="#amaranth.hdl.Value.shape" title="amaranth.hdl.Value.shape"><code class="xref py py-meth docutils literal notranslate"><span class="pre">shape()</span></code></a>, or as a bit container. In either case,
the semantics of operations that implement Python’s syntax, like <code class="code highlight py python docutils literal highlight-python"><span class="o">+</span></code> (also known as
<a class="reference internal" href="#amaranth.hdl.Value.__add__" title="amaranth.hdl.Value.__add__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__add__()</span></code></a>), are identical to the corresponding operation on a Python <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> (or on
a Python sequence container). The bitwise inversion <code class="code highlight py python docutils literal highlight-python"><span class="o">~</span></code> (also known as <a class="reference internal" href="#amaranth.hdl.Value.__invert__" title="amaranth.hdl.Value.__invert__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__invert__()</span></code></a>)
is the sole exception to this rule.</p>
<p>Data that is not conveniently representable by a single integer or a bit container can be
represented by wrapping a <a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a> in a <a class="reference internal" href="#amaranth.hdl.ValueCastable" title="amaranth.hdl.ValueCastable"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueCastable</span></code></a> subclass that provides
domain-specific operations. It is possible to extend Amaranth in third-party code using
value-castable objects, and the Amaranth standard library provides several built-in ones:</p>
<ul class="simple">
<li><p><a class="reference internal" href="stdlib/enum.html#module-amaranth.lib.enum" title="amaranth.lib.enum"><code class="xref py py-mod docutils literal notranslate"><span class="pre">amaranth.lib.enum</span></code></a> classes are a drop-in replacement for the standard Python
<a class="reference external" href="https://docs.python.org/3/library/enum.html#module-enum" title="(in Python v3.12)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">enum</span></code></a> classes that can be defined with an Amaranth shape;</p></li>
<li><p><a class="reference internal" href="stdlib/data.html#module-amaranth.lib.data" title="amaranth.lib.data"><code class="xref py py-mod docutils literal notranslate"><span class="pre">amaranth.lib.data</span></code></a> classes allow defining complex data structures such as structures
and unions.</p></li>
</ul>
<p>Operations on <a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a> instances return another <a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a> instance. Unless the exact
type and value of the result is explicitly specified below, it should be considered opaque, and
may change without notice between Amaranth releases as long as the semantics remains the same.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In each of the descriptions below, you will see a line similar to:</p>
<p><strong>Return type:</strong> <a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></code>, <a class="reference internal" href="guide.html#lang-assignable"><span class="std std-ref">assignable</span></a></p>
<p>The first part (<a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>) indicates that the returned object’s type is a subclass
of <a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>. The second part (<code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></code>) describes the shape of that value.
The third part, if present, indicates that the value is assignable if <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is
assignable.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.cast">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.cast" title="Permalink to this definition"></a></dt>
<dd><p>Cast <code class="code highlight py python docutils literal highlight-python"><span class="n">obj</span></code> to an Amaranth value.</p>
<p>Many <a class="reference internal" href="guide.html#lang-valuelike"><span class="std std-ref">value-like</span></a> objects can be cast to a value:</p>
<ul class="simple">
<li><p>a <a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a> instance, where the result is itself;</p></li>
<li><p>a <a class="reference internal" href="#amaranth.hdl.Value.bool" title="amaranth.hdl.Value.bool"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> instance, where the result is <code class="code highlight py python docutils literal highlight-python"><span class="n">Const</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span></code>;</p></li>
<li><p>an <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.IntEnum" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">enum.IntEnum</span></code></a> instance, or a <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.Enum" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></a> instance whose members are
all integers, where the result is a <code class="xref py py-class docutils literal notranslate"><span class="pre">Const(obj,</span> <span class="pre">enum_shape)</span></code> where <code class="code highlight py python docutils literal highlight-python"><span class="n">enum_shape</span></code>
is a shape that can represent every member of the enumeration;</p></li>
<li><p>a <a class="reference internal" href="#amaranth.hdl.ValueCastable" title="amaranth.hdl.ValueCastable"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueCastable</span></code></a> instance, where the result is obtained by repeatedly calling
<a class="reference internal" href="#amaranth.hdl.ValueCastable.as_value" title="amaranth.hdl.ValueCastable.as_value"><code class="xref py py-meth docutils literal notranslate"><span class="pre">obj.as_value()</span></code></a>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.12)"><strong>TypeError</strong></a> – If <code class="code highlight py python docutils literal highlight-python"><span class="n">obj</span></code> cannot be converted to a <a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RecursionError" title="(in Python v3.12)"><strong>RecursionError</strong></a> – If <code class="code highlight py python docutils literal highlight-python"><span class="n">obj</span></code> is a <a class="reference internal" href="#amaranth.hdl.ValueCastable" title="amaranth.hdl.ValueCastable"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueCastable</span></code></a> object that casts to itself.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.shape">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shape</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.shape" title="Permalink to this definition"></a></dt>
<dd><p>Shape of <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="guide.html#lang-shapelike"><span class="std std-ref">shape-like object</span></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.as_unsigned">
<span class="sig-name descname"><span class="pre">as_unsigned</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.as_unsigned" title="Permalink to this definition"></a></dt>
<dd><p>Reinterpretation as an unsigned value.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span></code>, <a class="reference internal" href="guide.html#lang-assignable"><span class="std std-ref">assignable</span></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.as_signed">
<span class="sig-name descname"><span class="pre">as_signed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.as_signed" title="Permalink to this definition"></a></dt>
<dd><p>Reinterpretation as a signed value.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">signed</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span></code>, <a class="reference internal" href="guide.html#lang-assignable"><span class="std std-ref">assignable</span></a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.12)"><strong>ValueError</strong></a> – If <code class="code highlight py python docutils literal highlight-python"><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__bool__">
<span class="sig-name descname"><span class="pre">__bool__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__bool__" title="Permalink to this definition"></a></dt>
<dd><p>Forbidden conversion to boolean.</p>
<p>Python uses this operator for its built-in semantics, e.g. <code class="code highlight py python docutils literal highlight-python"><span class="k">if</span></code>, and requires it to
return a <a class="reference internal" href="#amaranth.hdl.Value.bool" title="amaranth.hdl.Value.bool"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>. Since this is not possible for Amaranth values, this operator
always raises an exception.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.12)"><strong>TypeError</strong></a> – Always.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.bool">
<span class="sig-name descname"><span class="pre">bool</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.bool" title="Permalink to this definition"></a></dt>
<dd><p>Conversion to boolean.</p>
<p>Returns the same value as <a class="reference internal" href="#amaranth.hdl.Value.any" title="amaranth.hdl.Value.any"><code class="xref py py-meth docutils literal notranslate"><span class="pre">any()</span></code></a>, but should be used where <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is semantically
a number.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__pos__">
<span class="sig-name descname"><span class="pre">__pos__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__pos__" title="Permalink to this definition"></a></dt>
<dd><p>Unary position, <code class="code highlight py python docutils literal highlight-python"><span class="o">+</span><span class="bp">self</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code></p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__neg__">
<span class="sig-name descname"><span class="pre">__neg__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__neg__" title="Permalink to this definition"></a></dt>
<dd><p>Unary negation, <code class="code highlight py python docutils literal highlight-python"><span class="o">-</span><span class="bp">self</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">signed</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__add__">
<span class="sig-name descname"><span class="pre">__add__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__add__" title="Permalink to this definition"></a></dt>
<dd><p>Addition, <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span> <span class="o">+</span> <span class="n">other</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> <span class="n">other</span><span class="o">.</span><span class="n">width</span><span class="p">())</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span></code> – If both <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> and <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> are unsigned.</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">signed</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">width</span><span class="p">())</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span></code> – If <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is unsigned and <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> is signed.</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">signed</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> <span class="n">other</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span></code> – If <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is signed and <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> is unsigned.</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">signed</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> <span class="n">other</span><span class="o">.</span><span class="n">width</span><span class="p">())</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span></code> – If both <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> and <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> are unsigned.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__radd__">
<span class="sig-name descname"><span class="pre">__radd__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__radd__" title="Permalink to this definition"></a></dt>
<dd><p>Addition, <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span> <span class="o">+</span> <span class="bp">self</span></code> (reflected).</p>
<p>Like <a class="reference internal" href="#amaranth.hdl.Value.__add__" title="amaranth.hdl.Value.__add__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__add__()</span></code></a>, with operands swapped.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__sub__">
<span class="sig-name descname"><span class="pre">__sub__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__sub__" title="Permalink to this definition"></a></dt>
<dd><p>Subtraction, <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span> <span class="o">-</span> <span class="n">other</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">signed</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> <span class="n">other</span><span class="o">.</span><span class="n">width</span><span class="p">())</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span></code> – If both <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> and <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> are unsigned.</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">signed</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">width</span><span class="p">())</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span></code> – If <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is unsigned and <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> is signed.</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">signed</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> <span class="n">other</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span></code> – If <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is signed and <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> is unsigned.</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">signed</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> <span class="n">other</span><span class="o">.</span><span class="n">width</span><span class="p">())</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span></code> – If both <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> and <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> are unsigned.</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__rsub__">
<span class="sig-name descname"><span class="pre">__rsub__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__rsub__" title="Permalink to this definition"></a></dt>
<dd><p>Subtraction, <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span> <span class="o">-</span> <span class="bp">self</span></code> (reflected).</p>
<p>Like <a class="reference internal" href="#amaranth.hdl.Value.__sub__" title="amaranth.hdl.Value.__sub__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__sub__()</span></code></a>, with operands swapped.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__mul__">
<span class="sig-name descname"><span class="pre">__mul__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__mul__" title="Permalink to this definition"></a></dt>
<dd><p>Multiplication, <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span> <span class="o">*</span> <span class="n">other</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">))</span></code> – If both <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> and <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> are unsigned.</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">signed</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">))</span></code> – If either <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> or <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> are signed.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__rmul__">
<span class="sig-name descname"><span class="pre">__rmul__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__rmul__" title="Permalink to this definition"></a></dt>
<dd><p>Multiplication, <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span> <span class="o">*</span> <span class="bp">self</span></code> (reflected).</p>
<p>Like <a class="reference internal" href="#amaranth.hdl.Value.__mul__" title="amaranth.hdl.Value.__mul__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__mul__()</span></code></a>, with operands swapped.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__floordiv__">
<span class="sig-name descname"><span class="pre">__floordiv__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__floordiv__" title="Permalink to this definition"></a></dt>
<dd><p>Flooring division, <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span> <span class="o">//</span> <span class="n">other</span></code>.</p>
<p>If <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> is zero, the result of this operation is zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span></code> – If both <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> and <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> are unsigned.</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">signed</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span></code> – If <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is unsigned and <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> is signed.</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">signed</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span></code> – If <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is signed and <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> is unsigned.</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">signed</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span></code> – If both <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> and <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> are signed.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__rfloordiv__">
<span class="sig-name descname"><span class="pre">__rfloordiv__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__rfloordiv__" title="Permalink to this definition"></a></dt>
<dd><p>Flooring division, <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span> <span class="o">//</span> <span class="bp">self</span></code> (reflected).</p>
<p>If <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is zero, the result of this operation is zero.</p>
<p>Like <a class="reference internal" href="#amaranth.hdl.Value.__floordiv__" title="amaranth.hdl.Value.__floordiv__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__floordiv__()</span></code></a>, with operands swapped.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__mod__">
<span class="sig-name descname"><span class="pre">__mod__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__mod__" title="Permalink to this definition"></a></dt>
<dd><p>Flooring modulo or remainder, <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span> <span class="o">%</span> <span class="n">other</span></code>.</p>
<p>If <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> is zero, the result of this operation is zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__rmod__">
<span class="sig-name descname"><span class="pre">__rmod__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__rmod__" title="Permalink to this definition"></a></dt>
<dd><p>Flooring modulo or remainder, <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span> <span class="o">%</span> <span class="bp">self</span></code> (reflected).</p>
<p>Like <a class="reference internal" href="#amaranth.hdl.Value.__mod__" title="amaranth.hdl.Value.__mod__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__mod__()</span></code></a>, with operands swapped.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__eq__">
<span class="sig-name descname"><span class="pre">__eq__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__eq__" title="Permalink to this definition"></a></dt>
<dd><p>Equality comparison, <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span> <span class="o">==</span> <span class="n">other</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__ne__">
<span class="sig-name descname"><span class="pre">__ne__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__ne__" title="Permalink to this definition"></a></dt>
<dd><p>Inequality comparison, <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span> <span class="o">!=</span> <span class="n">other</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__lt__">
<span class="sig-name descname"><span class="pre">__lt__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__lt__" title="Permalink to this definition"></a></dt>
<dd><p>Less than comparison, <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span> <span class="o">&lt;</span> <span class="n">other</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__le__">
<span class="sig-name descname"><span class="pre">__le__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__le__" title="Permalink to this definition"></a></dt>
<dd><p>Less than or equals comparison, <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span> <span class="o">&lt;=</span> <span class="n">other</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__gt__">
<span class="sig-name descname"><span class="pre">__gt__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__gt__" title="Permalink to this definition"></a></dt>
<dd><p>Greater than comparison, <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span> <span class="o">&gt;</span> <span class="n">other</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__ge__">
<span class="sig-name descname"><span class="pre">__ge__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__ge__" title="Permalink to this definition"></a></dt>
<dd><p>Greater than or equals comparison, <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span> <span class="o">&gt;=</span> <span class="n">other</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__abs__">
<span class="sig-name descname"><span class="pre">__abs__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__abs__" title="Permalink to this definition"></a></dt>
<dd><p>Absolute value, <code class="code highlight py python docutils literal highlight-python"><span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__invert__">
<span class="sig-name descname"><span class="pre">__invert__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__invert__" title="Permalink to this definition"></a></dt>
<dd><p>Bitwise NOT, <code class="code highlight py python docutils literal highlight-python"><span class="o">~</span><span class="bp">self</span></code>.</p>
<p>The shape of the result is the same as the shape of <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code>, even for unsigned values.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In Python, <code class="code highlight py python docutils literal highlight-python"><span class="o">~</span><span class="mi">0</span></code> equals <code class="code highlight py python docutils literal highlight-python"><span class="o">-</span><span class="mi">1</span></code>. In Amaranth, <code class="code highlight py python docutils literal highlight-python"><span class="o">~</span><span class="n">C</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span></code> equals <code class="code highlight py python docutils literal highlight-python"><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></code>.
This is the only case where an Amaranth operator deviates from the Python operator
with the same name.</p>
<p>This deviation is necessary because Python does not allow overriding the logical
<code class="code highlight py python docutils literal highlight-python"><span class="ow">and</span></code>, <code class="code highlight py python docutils literal highlight-python"><span class="ow">or</span></code>, and <code class="code highlight py python docutils literal highlight-python"><span class="ow">not</span></code> operators. Amaranth uses <code class="code highlight py python docutils literal highlight-python"><span class="o">&amp;</span></code>, <code class="code highlight py python docutils literal highlight-python"><span class="o">|</span></code>, and
<code class="code highlight py python docutils literal highlight-python"><span class="o">~</span></code> instead; if it wasn’t the case that <code class="code highlight py python docutils literal highlight-python"><span class="o">~</span><span class="n">C</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></code>, that would have
been impossible.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__and__">
<span class="sig-name descname"><span class="pre">__and__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__and__" title="Permalink to this definition"></a></dt>
<dd><p>Bitwise AND, <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span> <span class="o">&amp;</span> <span class="n">other</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> <span class="n">other</span><span class="o">.</span><span class="n">width</span><span class="p">()))</span></code> – If both <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> and <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> are unsigned.</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">signed</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">width</span><span class="p">()))</span></code> – If <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is unsigned and <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> is signed.</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">signed</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> <span class="n">other</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span></code> – If <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is signed and <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> is unsigned.</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">signed</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> <span class="n">other</span><span class="o">.</span><span class="n">width</span><span class="p">()))</span></code> – If both <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> and <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> are unsigned.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__rand__">
<span class="sig-name descname"><span class="pre">__rand__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__rand__" title="Permalink to this definition"></a></dt>
<dd><p>Bitwise AND, <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span> <span class="o">&amp;</span> <span class="bp">self</span></code>.</p>
<p>Like <a class="reference internal" href="#amaranth.hdl.Value.__and__" title="amaranth.hdl.Value.__and__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__and__()</span></code></a>, with operands swapped.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.all">
<span class="sig-name descname"><span class="pre">all</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.all" title="Permalink to this definition"></a></dt>
<dd><p>Reduction AND; are all bits <code class="code highlight py python docutils literal highlight-python"><span class="mi">1</span></code>?</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__or__">
<span class="sig-name descname"><span class="pre">__or__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__or__" title="Permalink to this definition"></a></dt>
<dd><p>Bitwise OR, <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span> <span class="o">|</span> <span class="n">other</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> <span class="n">other</span><span class="o">.</span><span class="n">width</span><span class="p">()))</span></code> – If both <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> and <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> are unsigned.</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">signed</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">width</span><span class="p">()))</span></code> – If <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is unsigned and <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> is signed.</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">signed</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> <span class="n">other</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span></code> – If <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is signed and <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> is unsigned.</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">signed</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> <span class="n">other</span><span class="o">.</span><span class="n">width</span><span class="p">()))</span></code> – If both <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> and <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> are unsigned.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__ror__">
<span class="sig-name descname"><span class="pre">__ror__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__ror__" title="Permalink to this definition"></a></dt>
<dd><p>Bitwise OR, <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span> <span class="o">|</span> <span class="bp">self</span></code>.</p>
<p>Like <a class="reference internal" href="#amaranth.hdl.Value.__or__" title="amaranth.hdl.Value.__or__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__or__()</span></code></a>, with operands swapped.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.any">
<span class="sig-name descname"><span class="pre">any</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.any" title="Permalink to this definition"></a></dt>
<dd><p>Reduction OR; is any bit <code class="code highlight py python docutils literal highlight-python"><span class="mi">1</span></code>?</p>
<p>Performs the same operation as <a class="reference internal" href="#amaranth.hdl.Value.bool" title="amaranth.hdl.Value.bool"><code class="xref py py-meth docutils literal notranslate"><span class="pre">bool()</span></code></a>, but should be used where <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is
semantically a bit sequence.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__xor__">
<span class="sig-name descname"><span class="pre">__xor__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__xor__" title="Permalink to this definition"></a></dt>
<dd><p>Bitwise XOR, <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span> <span class="o">^</span> <span class="n">other</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> <span class="n">other</span><span class="o">.</span><span class="n">width</span><span class="p">()))</span></code> – If both <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> and <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> are unsigned.</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">signed</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">width</span><span class="p">()))</span></code> – If <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is unsigned and <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> is signed.</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">signed</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> <span class="n">other</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span></code> – If <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is signed and <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> is unsigned.</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">signed</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> <span class="n">other</span><span class="o">.</span><span class="n">width</span><span class="p">()))</span></code> – If both <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> and <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> are unsigned.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__rxor__">
<span class="sig-name descname"><span class="pre">__rxor__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__rxor__" title="Permalink to this definition"></a></dt>
<dd><p>Bitwise XOR, <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span> <span class="o">^</span> <span class="bp">self</span></code>.</p>
<p>Like <a class="reference internal" href="#amaranth.hdl.Value.__xor__" title="amaranth.hdl.Value.__xor__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__xor__()</span></code></a>, with operands swapped.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.xor">
<span class="sig-name descname"><span class="pre">xor</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.xor" title="Permalink to this definition"></a></dt>
<dd><p>Reduction XOR; are an odd amount of bits <code class="code highlight py python docutils literal highlight-python"><span class="mi">1</span></code>?</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__lshift__">
<span class="sig-name descname"><span class="pre">__lshift__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__lshift__" title="Permalink to this definition"></a></dt>
<dd><p>Left shift by variable amount, <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span> <span class="o">&lt;&lt;</span> <span class="n">other</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">**</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span></code> – If <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is unsigned.</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">signed</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">**</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span></code> – If <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is signed.</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.12)"><strong>TypeError</strong></a> – If <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> is signed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__rlshift__">
<span class="sig-name descname"><span class="pre">__rlshift__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__rlshift__" title="Permalink to this definition"></a></dt>
<dd><p>Left shift by variable amount, <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span> <span class="o">&lt;&lt;</span> <span class="bp">self</span></code>.</p>
<p>Like <a class="reference internal" href="#amaranth.hdl.Value.__lshift__" title="amaranth.hdl.Value.__lshift__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__lshift__()</span></code></a>, with operands swapped.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.shift_left">
<span class="sig-name descname"><span class="pre">shift_left</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">amount</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.shift_left" title="Permalink to this definition"></a></dt>
<dd><p>Left shift by constant amount.</p>
<p>If <code class="code highlight py python docutils literal highlight-python"><span class="n">amount</span> <span class="o">&lt;</span> <span class="mi">0</span></code>, performs the same operation as <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span><span class="o">.</span><span class="n">shift_right</span><span class="p">(</span><span class="o">-</span><span class="n">amount</span><span class="p">)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">+</span> <span class="n">amount</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span></code> – If <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is unsigned.</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">signed</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">+</span> <span class="n">amount</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span></code> – If <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is signed.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.rotate_left">
<span class="sig-name descname"><span class="pre">rotate_left</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">amount</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.rotate_left" title="Permalink to this definition"></a></dt>
<dd><p>Left rotate by constant amount.</p>
<p>If <code class="code highlight py python docutils literal highlight-python"><span class="n">amount</span> <span class="o">&lt;</span> <span class="mi">0</span></code>, performs the same operation as <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span><span class="o">.</span><span class="n">rotate_right</span><span class="p">(</span><span class="o">-</span><span class="n">amount</span><span class="p">)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span></code>, <a class="reference internal" href="guide.html#lang-assignable"><span class="std std-ref">assignable</span></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__rshift__">
<span class="sig-name descname"><span class="pre">__rshift__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__rshift__" title="Permalink to this definition"></a></dt>
<dd><p>Right shift by variable amount, <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span> <span class="o">&gt;&gt;</span> <span class="n">other</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span></code> – If <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is unsigned.</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">signed</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span></code> – If <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is signed.</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.12)"><strong>TypeError</strong></a> – If <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span></code> is signed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__rrshift__">
<span class="sig-name descname"><span class="pre">__rrshift__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__rrshift__" title="Permalink to this definition"></a></dt>
<dd><p>Right shift by variable amount, <code class="code highlight py python docutils literal highlight-python"><span class="n">other</span> <span class="o">&gt;&gt;</span> <span class="bp">self</span></code>.</p>
<p>Like <a class="reference internal" href="#amaranth.hdl.Value.__rshift__" title="amaranth.hdl.Value.__rshift__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__rshift__()</span></code></a>, with operands swapped.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.shift_right">
<span class="sig-name descname"><span class="pre">shift_right</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">amount</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.shift_right" title="Permalink to this definition"></a></dt>
<dd><p>Right shift by constant amount.</p>
<p>If <code class="code highlight py python docutils literal highlight-python"><span class="n">amount</span> <span class="o">&lt;</span> <span class="mi">0</span></code>, performs the same operation as <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span><span class="o">.</span><span class="n">shift_left</span><span class="p">(</span><span class="o">-</span><span class="n">amount</span><span class="p">)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-</span> <span class="n">amount</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span></code> – If <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is unsigned.</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">signed</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-</span> <span class="n">amount</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span></code> – If <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is signed.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.rotate_right">
<span class="sig-name descname"><span class="pre">rotate_right</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">amount</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.rotate_right" title="Permalink to this definition"></a></dt>
<dd><p>Right rotate by constant amount.</p>
<p>If <code class="code highlight py python docutils literal highlight-python"><span class="n">amount</span> <span class="o">&lt;</span> <span class="mi">0</span></code>, performs the same operation as <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span><span class="o">.</span><span class="n">rotate_left</span><span class="p">(</span><span class="o">-</span><span class="n">amount</span><span class="p">)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span></code>, <a class="reference internal" href="guide.html#lang-assignable"><span class="std std-ref">assignable</span></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__len__">
<span class="sig-name descname"><span class="pre">__len__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__len__" title="Permalink to this definition"></a></dt>
<dd><p>Bit width of <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span><span class="o">.</span><span class="n">width</span></code></p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__getitem__" title="Permalink to this definition"></a></dt>
<dd><p>Bit slicing.</p>
<p>Selects a constant-width, constant-offset part of <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code>. All three slicing syntaxes
(<code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span><span class="p">[</span><span class="n">i</span><span class="p">]</span></code>, <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">j</span><span class="p">]</span></code>, and <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">j</span><span class="p">:</span><span class="n">k</span><span class="p">]</span></code>) as well as negative indices are
supported. Like with other Python containers, out-of-bounds indices are trimmed to
the bounds of <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code>.</p>
<p>To select a variable-offset part of <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code>, use <a class="reference internal" href="#amaranth.hdl.Value.bit_select" title="amaranth.hdl.Value.bit_select"><code class="xref py py-meth docutils literal notranslate"><span class="pre">bit_select()</span></code></a> or
<a class="reference internal" href="#amaranth.hdl.Value.word_select" title="amaranth.hdl.Value.word_select"><code class="xref py py-meth docutils literal notranslate"><span class="pre">word_select()</span></code></a> instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></code>, <a class="reference internal" href="guide.html#lang-assignable"><span class="std std-ref">assignable</span></a> – If <code class="code highlight py python docutils literal highlight-python"><span class="n">key</span></code> is an <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="n">j</span> <span class="o">-</span> <span class="n">i</span><span class="p">)</span></code>, <a class="reference internal" href="guide.html#lang-assignable"><span class="std std-ref">assignable</span></a> – If <code class="code highlight py python docutils literal highlight-python"><span class="n">key</span></code> is a slice <code class="code highlight py python docutils literal highlight-python"><span class="n">i</span><span class="p">:</span><span class="n">j</span></code> where <code class="code highlight py python docutils literal highlight-python"><span class="n">i</span></code> and <code class="code highlight py python docutils literal highlight-python"><span class="n">j</span></code> are <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>s.</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="o">*</span><span class="nb">slice</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span><span class="o">.</span><span class="n">indices</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)))))</span></code>, <a class="reference internal" href="guide.html#lang-assignable"><span class="std std-ref">assignable</span></a> – If <code class="code highlight py python docutils literal highlight-python"><span class="n">key</span></code> is a slice <code class="code highlight py python docutils literal highlight-python"><span class="n">i</span><span class="p">:</span><span class="n">j</span><span class="p">:</span><span class="n">k</span></code> where <code class="code highlight py python docutils literal highlight-python"><span class="n">i</span></code>, <code class="code highlight py python docutils literal highlight-python"><span class="n">j</span></code>, and <code class="code highlight py python docutils literal highlight-python"><span class="n">k</span></code> are <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>s.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__contains__">
<span class="sig-name descname"><span class="pre">__contains__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__contains__" title="Permalink to this definition"></a></dt>
<dd><p>Forbidden membership test operator.</p>
<p>Python requires this operator to return a <a class="reference internal" href="#amaranth.hdl.Value.bool" title="amaranth.hdl.Value.bool"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>. Since this is not possible
for Amaranth values, this operator always raises an exception.</p>
<p>To check membership in a set of constant integer values, use <a class="reference internal" href="#amaranth.hdl.Value.matches" title="amaranth.hdl.Value.matches"><code class="xref py py-meth docutils literal notranslate"><span class="pre">matches()</span></code></a> instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.12)"><strong>TypeError</strong></a> – Always.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.bit_select">
<span class="sig-name descname"><span class="pre">bit_select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">offset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.bit_select" title="Permalink to this definition"></a></dt>
<dd><p>Part-select with bit granularity.</p>
<p>Selects a constant width, variable offset part of <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code>, where parts with successive
offsets overlap by <code class="code highlight py python docutils literal highlight-python"><span class="n">width</span> <span class="o">-</span> <span class="mi">1</span></code> bits. Bits above the most significant bit of <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code>
may be selected; they are equal to zero if <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is unsigned, to <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span></code> if
<code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is signed, and assigning to them does nothing.</p>
<p>When <code class="code highlight py python docutils literal highlight-python"><span class="n">offset</span></code> is a constant integer and <code class="code highlight py python docutils literal highlight-python"><span class="n">offset</span> <span class="o">+</span> <span class="n">width</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>,
this operation is equivalent to <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span><span class="p">[</span><span class="n">offset</span><span class="p">:</span><span class="n">offset</span> <span class="o">+</span> <span class="n">width</span><span class="p">]</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>offset</strong> (<a class="reference internal" href="guide.html#lang-valuelike"><span class="std std-ref">value-like</span></a>) – Index of the first selected bit.</p></li>
<li><p><strong>width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – Amount of bits to select.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="n">width</span><span class="p">)</span></code>, <a class="reference internal" href="guide.html#lang-assignable"><span class="std std-ref">assignable</span></a></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.12)"><strong>TypeError</strong></a> – If <code class="code highlight py python docutils literal highlight-python"><span class="n">offset</span></code> is signed.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.12)"><strong>TypeError</strong></a> – If <code class="code highlight py python docutils literal highlight-python"><span class="n">width</span></code> is negative.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.word_select">
<span class="sig-name descname"><span class="pre">word_select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">offset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.word_select" title="Permalink to this definition"></a></dt>
<dd><p>Part-select with word granularity.</p>
<p>Selects a constant width, variable offset part of <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code>, where parts with successive
offsets are adjacent but do not overlap. Bits above the most significant bit of <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code>
may be selected; they are equal to zero if <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is unsigned, to <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span></code> if
<code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> is signed, and assigning to them does nothing.</p>
<p>When <code class="code highlight py python docutils literal highlight-python"><span class="n">offset</span></code> is a constant integer and <code class="code highlight py python docutils literal highlight-python"><span class="n">width</span><span class="p">:(</span><span class="n">offset</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">width</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>,
this operation is equivalent to <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span><span class="p">[</span><span class="n">offset</span> <span class="o">*</span> <span class="n">width</span><span class="p">:(</span><span class="n">offset</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">width</span><span class="p">]</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>offset</strong> (<a class="reference internal" href="guide.html#lang-valuelike"><span class="std std-ref">value-like</span></a>) – Index of the first selected word.</p></li>
<li><p><strong>width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – Amount of bits to select.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="n">width</span><span class="p">)</span></code>, <a class="reference internal" href="guide.html#lang-assignable"><span class="std std-ref">assignable</span></a></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.12)"><strong>TypeError</strong></a> – If <code class="code highlight py python docutils literal highlight-python"><span class="n">offset</span></code> is signed.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.12)"><strong>TypeError</strong></a> – If <code class="code highlight py python docutils literal highlight-python"><span class="n">width</span></code> is negative.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.replicate">
<span class="sig-name descname"><span class="pre">replicate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.replicate" title="Permalink to this definition"></a></dt>
<dd><p>Replication.</p>
<p>Equivalent to <code class="code highlight py python docutils literal highlight-python"><span class="n">Cat</span><span class="p">(</span><span class="bp">self</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">count</span><span class="p">))</span></code>, but not assignable.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">*</span> <span class="n">count</span><span class="p">)</span></code></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.12)"><strong>TypeError</strong></a> – If <code class="code highlight py python docutils literal highlight-python"><span class="n">count</span></code> is negative.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.matches">
<span class="sig-name descname"><span class="pre">matches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">patterns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.matches" title="Permalink to this definition"></a></dt>
<dd><p>Pattern matching.</p>
<p>Matches against a set of patterns, recognizing the same grammar as <code class="code highlight py python docutils literal highlight-python"><span class="k">with</span> <span class="n">m</span><span class="o">.</span><span class="n">Case</span><span class="p">()</span></code>.
The pattern syntax is described in the <a class="reference internal" href="guide.html#lang-matchop"><span class="std std-ref">language guide</span></a>.</p>
<p>Each of the <code class="code highlight py python docutils literal highlight-python"><span class="n">patterns</span></code> may be a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> or a <a class="reference internal" href="guide.html#lang-constcasting"><span class="std std-ref">constant-castable object</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, <code class="code highlight py python docutils literal highlight-python"><span class="n">unsigned</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></code></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#SyntaxError" title="(in Python v3.12)"><strong>SyntaxError</strong></a> – If a pattern has invalid syntax.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.eq">
<span class="sig-name descname"><span class="pre">eq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.eq" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference internal" href="guide.html#lang-assigns"><span class="std std-ref">Assignment</span></a>.</p>
<p>Once it is placed in a domain, an assignment changes the bit pattern of <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> to
equal <code class="code highlight py python docutils literal highlight-python"><span class="n">value</span></code>. If the bit width of <code class="code highlight py python docutils literal highlight-python"><span class="n">value</span></code> is less than that of <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code>,
it is zero-extended (for unsigned <code class="code highlight py python docutils literal highlight-python"><span class="n">value</span></code>s) or sign-extended (for signed
<code class="code highlight py python docutils literal highlight-python"><span class="n">value</span></code>s). If the bit width of <code class="code highlight py python docutils literal highlight-python"><span class="n">value</span></code> is greater than that of <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code>,
it is truncated.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Statement</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__hash__">
<span class="sig-name descname"><span class="pre">__hash__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#amaranth.hdl.Value.__hash__" title="Permalink to this definition"></a></dt>
<dd><p>Forbidden hashing.</p>
<p>Python objects are <a class="reference external" href="https://docs.python.org/3/glossary.html#term-hashable" title="(in Python v3.12)"><span>hashable</span></a> if they provide a <code class="code highlight py python docutils literal highlight-python"><span class="fm">__hash__</span></code> method
that returns an <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> and an <code class="code highlight py python docutils literal highlight-python"><span class="fm">__eq__</span></code> method that returns a <a class="reference internal" href="#amaranth.hdl.Value.bool" title="amaranth.hdl.Value.bool"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>.
Amaranth values define <a class="reference internal" href="#amaranth.hdl.Value.__eq__" title="amaranth.hdl.Value.__eq__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__eq__()</span></code></a> to return a <a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, which precludes them
from being hashable.</p>
<p>To use a <a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a> as a key in a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>, use the following pattern:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">value</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">()</span>
<span class="n">assoc</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">assoc</span><span class="p">[</span><span class="nb">id</span><span class="p">(</span><span class="n">value</span><span class="p">)]</span> <span class="o">=</span> <span class="n">value</span><span class="p">,</span> <span class="s2">&quot;a signal&quot;</span>
<span class="n">_</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="n">assoc</span><span class="p">[</span><span class="nb">id</span><span class="p">(</span><span class="n">value</span><span class="p">)]</span>
<span class="k">assert</span> <span class="n">info</span> <span class="o">==</span> <span class="s2">&quot;a signal&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.Value.__format__">
<span class="sig-name descname"><span class="pre">__format__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">format_desc</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.Value.__format__" title="Permalink to this definition"></a></dt>
<dd><p>Forbidden formatting.</p>
<p>Since normal Python formatting (f-strings and <code class="docutils literal notranslate"><span class="pre">str.format</span></code>) must immediately return
a string, it is unsuitable for formatting Amaranth values. To format a value at simulation
time, use <code class="xref py py-class docutils literal notranslate"><span class="pre">Format</span></code> instead. If you really want to dump the AST at elaboration time,
use <code class="docutils literal notranslate"><span class="pre">repr</span></code> instead (for instance, via <code class="docutils literal notranslate"><span class="pre">f&quot;{value!r}&quot;</span></code>).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="amaranth.hdl.ValueCastable">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">amaranth.hdl.</span></span><span class="sig-name descname"><span class="pre">ValueCastable</span></span><a class="headerlink" href="#amaranth.hdl.ValueCastable" title="Permalink to this definition"></a></dt>
<dd><p>Interface class for objects that can be cast to a <a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>.</p>
<p>Computations in the Amaranth language are described by combining <a class="reference internal" href="guide.html#lang-valuelike"><span class="std std-ref">value-like objects</span></a>. Inheriting a class from <a class="reference internal" href="#amaranth.hdl.ValueCastable" title="amaranth.hdl.ValueCastable"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueCastable</span></code></a> and implementing
all of the methods described below adds instances of that class to the list of
value-like objects recognized by the <a class="reference internal" href="#amaranth.hdl.Value.cast" title="amaranth.hdl.Value.cast"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Value.cast()</span></code></a> method. This is a part of the mechanism
for seamlessly extending the Amaranth language in third-party code.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All methods and operators defined by the <a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a> class will implicitly cast
a <a class="reference internal" href="#amaranth.hdl.ValueCastable" title="amaranth.hdl.ValueCastable"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueCastable</span></code></a> object to a <a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>, with the exception of arithmetic
operators, which will prefer calling a reflected arithmetic operation on
the <a class="reference internal" href="#amaranth.hdl.ValueCastable" title="amaranth.hdl.ValueCastable"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueCastable</span></code></a> argument if it defines one.</p>
<p>For example, if <code class="code highlight py python docutils literal highlight-python"><span class="n">value_castable</span></code> implements <code class="code highlight py python docutils literal highlight-python"><span class="fm">__radd__</span></code>, then
<code class="code highlight py python docutils literal highlight-python"><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">value_castable</span></code> will perform <code class="code highlight py python docutils literal highlight-python"><span class="n">value_castable</span><span class="o">.</span><span class="fm">__radd__</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span></code>, and otherwise
it will perform <code class="code highlight py python docutils literal highlight-python"><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="fm">__add__</span><span class="p">(</span><span class="n">value_castable</span><span class="o">.</span><span class="n">as_value</span><span class="p">())</span></code>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.ValueCastable.as_value">
<span class="sig-name descname"><span class="pre">as_value</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.ValueCastable.as_value" title="Permalink to this definition"></a></dt>
<dd><p>Convert <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> to a <a class="reference internal" href="guide.html#lang-valuelike"><span class="std std-ref">value-like object</span></a>.</p>
<p>This method is called by the Amaranth language to convert <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code> to a concrete
<a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>. It will usually return a <a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a> object, but it may also return
another value-like object to delegate its functionality.</p>
<p>This method must be idempotent: when called twice on the same object, the result must be
exactly the same.</p>
<p>This method may also be called by code that is not a part of the Amaranth language.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Any other object recognized by <a class="reference internal" href="#amaranth.hdl.Value.cast" title="amaranth.hdl.Value.cast"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Value.cast()</span></code></a>.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.12)"><strong>Exception</strong></a> – When the conversion cannot be done. This exception must be propagated by callers,
    either directly or as a cause of another exception.
    
    It is recommended that, in cases where this method raises an exception,
    the <a class="reference internal" href="#amaranth.hdl.ValueCastable.shape" title="amaranth.hdl.ValueCastable.shape"><code class="xref py py-meth docutils literal notranslate"><span class="pre">shape()</span></code></a> method also raises an exception.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="amaranth.hdl.ValueCastable.shape">
<span class="sig-name descname"><span class="pre">shape</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amaranth.hdl.ValueCastable.shape" title="Permalink to this definition"></a></dt>
<dd><p>Compute the shape of <code class="code highlight py python docutils literal highlight-python"><span class="bp">self</span></code>.</p>
<p>This method is not called by the Amaranth language itself; whenever it needs to discover
the shape of a value-castable object, it calls <code class="xref py py-class docutils literal notranslate"><span class="pre">self.as_value().shape()</span></code>. However,
that method must return a <a class="reference internal" href="#amaranth.hdl.Shape" title="amaranth.hdl.Shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></a>, and <a class="reference internal" href="#amaranth.hdl.ValueCastable" title="amaranth.hdl.ValueCastable"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueCastable</span></code></a> subclasses may have
a richer representation of their shape provided by an instance of a <a class="reference internal" href="#amaranth.hdl.ShapeCastable" title="amaranth.hdl.ShapeCastable"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShapeCastable</span></code></a>
subclass. This method may return such a representation.</p>
<p>This method must be idempotent: when called twice on the same object, the result must be
exactly the same.</p>
<p>The following condition must hold:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Shape</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shape</span><span class="p">())</span> <span class="o">==</span> <span class="n">Value</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <a class="reference internal" href="guide.html#lang-shapelike"><span class="std std-ref">shape-like</span></a> object.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.12)"><strong>Exception</strong></a> – When the conversion cannot be done. This exception must be propagated by callers,
    either directly or as a cause of another exception.
    
    It is recommended that, in cases where this method raises an exception,
    the <a class="reference internal" href="#amaranth.hdl.ValueCastable.as_value" title="amaranth.hdl.ValueCastable.as_value"><code class="xref py py-meth docutils literal notranslate"><span class="pre">as_value()</span></code></a> method also raises an exception.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="amaranth.hdl.ValueLike">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">amaranth.hdl.</span></span><span class="sig-name descname"><span class="pre">ValueLike</span></span><a class="headerlink" href="#amaranth.hdl.ValueLike" title="Permalink to this definition"></a></dt>
<dd><p>Abstract class representing all objects that can be cast to a <a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>.</p>
<p><code class="code highlight py python docutils literal highlight-python"><span class="nb">issubclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ValueLike</span><span class="p">)</span></code> returns <code class="code highlight py python docutils literal highlight-python"><span class="kc">True</span></code> for:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#amaranth.hdl.Value" title="amaranth.hdl.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>;</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.ValueCastable" title="amaranth.hdl.ValueCastable"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueCastable</span></code></a> and its subclasses;</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> and its subclasses (including <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>);</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.Enum" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></a> subclasses where all values are <a class="reference internal" href="guide.html#lang-valuelike"><span class="std std-ref">value-like</span></a>;</p></li>
<li><p><a class="reference internal" href="#amaranth.hdl.ValueLike" title="amaranth.hdl.ValueLike"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueLike</span></code></a> itself.</p></li>
</ul>
<p><code class="code highlight py python docutils literal highlight-python"><span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">ValueLike</span><span class="p">)</span></code> returns the same value as
<code class="code highlight py python docutils literal highlight-python"><span class="nb">issubclass</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">obj</span><span class="p">),</span> <span class="n">ValueLike</span><span class="p">)</span></code>.</p>
<p>This class cannot be instantiated or subclassed. It can only be used for checking types of
objects.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is possible to define an enumeration with a member that is
<a class="reference internal" href="guide.html#lang-valuelike"><span class="std std-ref">value-like</span></a> but not <a class="reference internal" href="guide.html#lang-constcasting"><span class="std std-ref">constant-castable</span></a>,
meaning that <code class="code highlight py python docutils literal highlight-python"><span class="nb">issubclass</span><span class="p">(</span><span class="n">BadEnum</span><span class="p">,</span> <span class="n">ValueLike</span><span class="p">)</span></code> returns <code class="code highlight py python docutils literal highlight-python"><span class="kc">True</span></code>, but
<code class="code highlight py python docutils literal highlight-python"><span class="n">Value</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">BadEnum</span><span class="o">.</span><span class="n">MEMBER</span><span class="p">)</span></code> raises an exception.</p>
<p>The <a class="reference internal" href="stdlib/enum.html#module-amaranth.lib.enum" title="amaranth.lib.enum"><code class="xref py py-mod docutils literal notranslate"><span class="pre">amaranth.lib.enum</span></code></a> module prevents such enumerations from being defined when
the shape is specified explicitly. Using <a class="reference internal" href="stdlib/enum.html#module-amaranth.lib.enum" title="amaranth.lib.enum"><code class="xref py py-mod docutils literal notranslate"><span class="pre">amaranth.lib.enum</span></code></a> and specifying the shape
ensures that all of your enumeration members are constant-castable and fit in the provided
shape.</p>
</div>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="guide.html" class="btn btn-neutral float-left" title="Language guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="stdlib.html" class="btn btn-neutral float-right" title="Standard library" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020—2024, Amaranth project contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>